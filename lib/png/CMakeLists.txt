# Point to the install location of z
list(APPEND CMAKE_PREFIX_PATH "${CMAKE_CURRENT_BINARY_DIR}/../z")

include(ExternalProject)
ExternalProject_Add(
    libpng
    URL ${CMAKE_CURRENT_LIST_DIR}/libpng-1.6.47.tar.gz
    URL_HASH SHA256=084115c62fe023e3d88cd78764a4d8e89763985ee4b4a085825f7a00d85eafbb
    CMAKE_ARGS -DCMAKE_OSX_DEPLOYMENT_TARGET=${CMAKE_OSX_DEPLOYMENT_TARGET} -DCMAKE_PREFIX_PATH=${CMAKE_PREFIX_PATH} -DCMAKE_INSTALL_PREFIX=${CMAKE_CURRENT_BINARY_DIR} -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE} -DPNG_SHARED=OFF
	DEPENDS libz
)
